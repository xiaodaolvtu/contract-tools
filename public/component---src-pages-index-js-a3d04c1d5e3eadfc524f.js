(window.webpackJsonp=window.webpackJsonp||[]).push([[5,3],{126:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),c=a(0),l=a.n(c),i=a(141),o=a(406),s=a(407),u=a(397),p=a(245),f=a(405),m=a(408),d=["多单","空单"],h=["10x","20x"],g=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={contractType:"多单",leverage:"10x",openPrice:0,closePrice:0,amount:0},t.setOpenPrice=function(e,a){var n=a.value;return t.setState({openPrice:n})},t.setProfits=function(e,a){var n=a.value;return t.setState({profits:n})},t.setAmount=function(e,a){var n=a.value;return t.setState({amount:n})},t.onClick=function(e){console.log(" "+t.state.contractType+t.state.leverage+t.state.openPrice+t.state.profits+t.state.amount)},t}return r()(t,e),t.prototype.render=function(){var e=this;return l.a.createElement(o.a.Pane,null,l.a.createElement(s.a,null,l.a.createElement(s.a.Item,null,l.a.createElement(i.a,{title:"合约类型",SetContractType:function(t){return e.setState({contractType:t})},values:d,defaultValue:d[0]}),l.a.createElement(i.a,{style:{marginTop:"20px"},title:"杠杆倍数",SetLeverage:function(t){return e.setState({leverage:t})},values:h,defaultValue:h[0]}),l.a.createElement(u.a,null,l.a.createElement(p.a,{style:{width:"130px"}}," 开仓价格:","("+(this.state.openPrice||0)+")"," "),l.a.createElement(f.a,{label:{basic:!0,content:"$"},style:{marginLeft:"20px"},onChange:this.setOpenPrice,placeholder:"0"})),l.a.createElement(u.a,null,l.a.createElement(p.a,{style:{width:"130px"}}," 开仓数量:","("+(this.state.amount||0)+")"," "),l.a.createElement(f.a,{label:{basic:!0,content:"张"},labelPosition:"right",style:{marginLeft:"20px"},onChange:this.setAmount,placeholder:"0"})),l.a.createElement(u.a,null,l.a.createElement(p.a,{style:{width:"130px"}}," 收益:","("+(this.state.profits||0)+")"," "),l.a.createElement(f.a,{label:{basic:!0,content:"$"},style:{marginLeft:"20px"},onChange:this.setProfits,placeholder:"0"})))),l.a.createElement(m.a,{color:"violet",onClick:this.onClick},"Violet"))},t}(c.Component);t.default=g},127:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),c=a(0),l=a.n(c),i=a(141),o=a(406),s=a(407),u=a(397),p=a(245),f=a(405),m=a(198),d=a(408),h=a(150),g=["多单","空单"],v=["10x","20x"],y=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={contractType:"多单",leverage:"10x",openPrice:0,closePrice:0,amount:0,type:"btc"},t.setOpenPrice=function(e,a){var n=a.value;return t.setState({openPrice:n})},t.setClosePrice=function(e,a){var n=a.value;return t.setState({closePrice:n})},t.setAmount=function(e,a){var n=a.value;return t.setState({amount:n})},t.onClick=function(e){var a=("多单"===t.state.contractType?h.a.profit_long:h.a.profit_short)(t.state.type,t.state.closePrice,t.state.openPrice,t.state.amount);console.log(a),t.setState({Result:a})},t}return r()(t,e),t.prototype.render=function(){var e=this;return l.a.createElement(o.a.Pane,null,l.a.createElement(s.a,null,l.a.createElement(s.a.Item,null,l.a.createElement(i.a,{title:"合约类型",SetContractType:function(t){return e.setState({contractType:t})},values:g,defaultValue:g[0]}),l.a.createElement(i.a,{title:"杠杆倍数",SetLeverage:function(t){return e.setState({leverage:t})},values:v,defaultValue:v[0]}),l.a.createElement(u.a,null,l.a.createElement(p.a,{style:{width:"130px"}}," 开仓价格:","("+(this.state.openPrice||0)+")"," "),l.a.createElement(f.a,{label:{basic:!0,content:"$"},style:{marginLeft:"20px"},onChange:this.setOpenPrice,placeholder:"0"})),l.a.createElement(u.a,null,l.a.createElement(p.a,{style:{width:"130px"}}," 平仓价格:","("+(this.state.closePrice||0)+")"," "),l.a.createElement(f.a,{label:{basic:!0,content:"$"},style:{marginLeft:"20px"},onChange:this.setClosePrice,placeholder:"0"})),l.a.createElement(u.a,null,l.a.createElement(p.a,{style:{width:"130px"}}," 开仓数量:","("+(this.state.amount||0)+")"," "),l.a.createElement(f.a,{label:{basic:!0,content:"张"},labelPosition:"right",style:{marginLeft:"20px"},onChange:this.setAmount,placeholder:"0"})),this.state.Result?l.a.createElement(u.a,null,l.a.createElement(m.a,null," ",l.a.createElement(m.a.Header,null,"在该位置平仓可获得收："),this.state.Result+" "+this.state.type)):null)),l.a.createElement(d.a,{color:"green",style:{display:"flex",alignItems:"center"},onClick:this.onClick},"计算收益"))},t}(c.Component);t.default=y},128:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),c=a(46),l=a.n(c),i=a(0),o=a.n(i),s=a(141),u=a(397),p=a(245),f=a(405),m=a(408),d=function(e){function t(t){var a;return(a=e.call(this,t)||this).setPrice=function(e,t){var n=t.value;/^d*(?:.d{0,4})?$/.test(n)||console.log("aaa"),a.setState({price:n})},a.setCount=function(e,t){var n=t.value;return a.setState({count:n})},a.handleClick=function(){var e=a.state,t=e.price,n=e.count;console.log("@CheckInput:handleClick"+t+" "+n+" "+a.index),a.props.addContract&&a.props.addContract(t,n,a.index)},a.state={price:0,count:0},a.index=t.index,a.price=t.price,a.label=a.index+"：价格",a}return r()(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(u.a,null,o.a.createElement(p.a,{attached:"top"},"加仓"+(this.index+1)),o.a.createElement(f.a,{size:"mini",label:"价格",onChange:this.setPrice,placeholder:this.price||0}),o.a.createElement(f.a,{size:"mini",action:o.a.createElement(m.a,{color:"teal",size:"mini",content:"确定",onClick:function(){return e.handleClick()}}),label:"张数",onChange:this.setCount,placeholder:0}))},t}(i.Component),h=a(406),g=a(198),v=a(407),y=a(150),E=["多单","空单"],b=["10x","20x"],x=["btc","ltc"],C=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={contractType:"多单",leverage:"10x",openPrice:0,closePrice:0,amount:0,currency:"btc",liquidationPrice:0,inputs:[],finalPrice:0,finalAmount:0,finalLiquidationPrice:0,hidden:!0,message:""},a.setOpenPrice=function(e,t){var n=t.value;return a.setState({openPrice:n})},a.setProfits=function(e,t){var n=t.value;return a.setState({profits:n})},a.setAmount=function(e,t){var n=t.value;return a.setState({amount:n})},a.onClick=function(e){a.state.openPrice&&a.state.amount?a.setState({inputs:[].concat(a.state.inputs,{})}):a.myAlert("请填写仓位信息！")},a.clear=function(){a.setState({inputs:[]})},a.checkInitialInfo=function(){return a.getLiquidationPrice()},a.getLiquidationPrice=function(e,t){var n=e||a.state.openPrice,r=t||a.state.amount,c=("多单"===a.state.contractType?y.a.liquidation_price_long:y.a.liquidation_price_short)(a.state.currency,a.state.leverage,n,r);a.setState({liquidationPrice:c})},a.updateInputs=function(e,t,n){console.log(e+" "+t+" "+n);var r=a.state.inputs,c=[],l=r.length;return 1==l?0==n&&(c=[].concat({price:e,count:t})):c=2==l?0==n?[].concat({price:e,count:t},r[1]):[].concat(r[0],{price:e,count:t}):0==n?[].concat({price:e,count:t},r.slice(1,l)):n==l-1?[].concat(r.slice(0,n),{price:e,count:t}):[].concat(r.slice(0,n),{price:e,count:t},r.slice(n+1,l)),a.setState({inputs:[].concat(c)}),c},a.addContract=function(e,t,n){console.log("AveragePriceView:addContract"+e+" "+t+" "+n);var r=a.state,c=r.openPrice,l=r.amount,i=r.currency,o=a.updateInputs(parseFloat(e),parseFloat(t),n),s=[].concat({price:parseFloat(c),count:parseFloat(l)},o);console.log("deals:"+s.length+" "+s[1].price);var u=y.a.average_price(i,parseFloat(l),s);a.setState({finalPrice:u.price,finalAmout:u.count})},a.addInput=function(e,t){if(a.state.openPrice||a.state.amount)return o.a.createElement(d,{index:e,price:t})},a.myAlert=function(e){a.setState({hidden:!1,message:e});var t=l()(l()(a));setTimeout(function(){t.setState({hidden:!0,message:""})},3e3)},a.ref1=o.a.createRef(),a.ref2=o.a.createRef(),a.ref3=o.a.createRef(),a}return r()(t,e),t.prototype.render=function(){var e=this,t=this.state.inputs;return o.a.createElement(h.a.Pane,{style:{paddingBottom:"60px"}},!this.state.hidden&&o.a.createElement(g.a,{Floating:!0},this.state.message),o.a.createElement(v.a,null,o.a.createElement(v.a.Item,null,o.a.createElement(s.a,{group:!0,style:{marginLeft:"-4px",paddingLeft:"0px",marginTop:"5px"},ref:this.ref1,title:"合约类型",SetContractType:function(t){return e.setState({contractType:t})},values:E,defaultValue:E[0]}),o.a.createElement(s.a,{group:!0,style:{marginLeft:"-4px",paddingLeft:"0px",marginTop:"5px"},ref:this.ref2,title:"杠杆倍数",SetLeverage:function(t){return e.setState({leverage:t})},values:b,defaultValue:b[0]}),o.a.createElement(s.a,{group:!0,style:{marginLeft:"0px",paddingLeft:"0px",marginTop:"5px"},ref:this.ref3,title:"合约币种",SetCurrency:function(t){return e.setState({currency:t})},values:x,defaultValue:x[0]}),o.a.createElement(p.a,{style:{width:"130px",marginLeft:"4px"}}," 开仓价格: "),o.a.createElement(f.a,{size:"mini",style:{marginLeft:"18px"},label:{basic:!0,content:"$"},onChange:this.setOpenPrice,placeholder:"0"}),o.a.createElement("br",null),o.a.createElement(p.a,{style:{width:"130px",marginLeft:"4px"}}," 开仓数量: "),o.a.createElement(f.a,{size:"mini",label:{basic:!0,content:"张"},labelPosition:"right",style:{marginLeft:"18px"},onChange:this.setAmount,placeholder:"0"}),o.a.createElement(m.a,{color:"green",size:"mini",style:{borderRadius:0},content:"确定",onClick:this.checkInitialInfo}),o.a.createElement(g.a,{info:!0},o.a.createElement("b",null,"初始仓位信息："),o.a.createElement("br",null),"开仓价格：",o.a.createElement("b",{style:{color:"red"}},this.state.openPrice),"  |  合约类型：",o.a.createElement("b",{style:{color:"red"}},this.state.contractType),"  |  杠杆倍数：",o.a.createElement("b",{style:{color:"red"}},this.state.leverage),"  |  合约币种：",o.a.createElement("b",{style:{color:"red"}},this.state.currency),"  |  持仓数量：",o.a.createElement("b",{style:{color:"red"}},this.state.amount),"  |  爆仓价格：",o.a.createElement("b",{style:{color:"red"}},this.state.liquidationPrice),this.state.finalPrice?o.a.createElement("p",null,o.a.createElement("b",null,"最终仓位信息："),o.a.createElement("br",null),"平均价格：",o.a.createElement("b",{style:{color:"red"}},this.state.finalPrice),"  |  合约类型：",o.a.createElement("b",{style:{color:"red"}},this.state.contractType),"  |  杠杆倍数：",o.a.createElement("b",{style:{color:"red"}},this.state.leverage),"  |  合约币种：",o.a.createElement("b",{style:{color:"red"}},this.state.currency),"  |  持仓数量：",o.a.createElement("b",{style:{color:"red"}},this.state.finalAmount),"  |  爆仓价格：",o.a.createElement("b",{style:{color:"red"}},this.state.finalLiquidationPrice)):null))),o.a.createElement(m.a.Group,null,o.a.createElement(m.a,{onClick:this.clear},"清空"),o.a.createElement(m.a.Or,null),o.a.createElement(m.a,{positive:!0,onClick:this.onClick},"加仓")),o.a.createElement("br",null),t.length?t.map(function(t,a){return o.a.createElement(d,{index:a,addContract:function(t,a,n){return e.addContract(t,a,n)}})}):null)},t}(i.Component);t.default=C},129:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),c=a(0),l=a.n(c),i=(a(141),a(127)),o=(a(126),a(128)),s=a(403),u=a(398),p=a(397),f=a(406),m={h1:{marginTop:"3em"},last:{marginBottom:"300px"}},d=[{menuItem:"撮合均价计算",render:function(e){return l.a.createElement(o.default,e)}},{menuItem:"收益计算",render:function(e){return l.a.createElement(i.default,e)}}],h=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={contractType:"多单",leverage:"10x"},t.handleChange=function(e,a){var n=a.value;return t.setState({value:n})},t.SetContractType=function(e){return t.setState({contractType:e})},t.SetLeverage=function(e){return t.setState({leverage:e})},t}return r()(t,e),t.prototype.render=function(){var e=this;return l.a.createElement("div",null,l.a.createElement(s.a,{text:!0},l.a.createElement(u.a,{as:"last",content:"Bitcoin Feature",style:m.h1,textAlign:"center"}),l.a.createElement(p.a.Group,null,l.a.createElement(f.a,{SetContractType:function(t){return e.SetContractType(t)},SetLeverage:function(t){return e.SetLeverage(t)},panes:d}))))},t}(c.Component);t.default=h},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=(a(243),a(129));a(395),t.default=function(){return r.a.createElement("div",{style:{color:"purple"}},r.a.createElement(c.default,null))}},141:function(e,t,a){"use strict";a.d(t,"a",function(){return f});a(66),a(48);var n=a(6),r=a.n(n),c=a(0),l=a.n(c),i=a(397),o=a(403),s=a(245),u=a(404),p={marginLeft:"20px"},f=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={value:a.props.defaultValue||""},a.callback=a.props.SetContractType||a.props.SetLeverage||a.props.SetCurrency||null,a.handleChange=function(e,t){var n=t.value;return a.setState({value:n},a.callback(n))},a.ckRef=l.a.createRef(),a}r()(t,e);var a=t.prototype;return a.clear=function(){},a.render=function(){var e=this,t=this.props.values||[],a=i.a;return this.props.group&&(a=o.a),t.length>0?l.a.createElement(a,{style:this.props.style||null},l.a.createElement(s.a,{style:{width:"130px",marginLeft:"-9px"}},this.props.title,": "),t.map(function(t){return l.a.createElement(u.a,{ref:e.ckRef,style:p,radio:!0,label:t,name:"checkboxRadioGroup",value:t,checked:e.state.value===t,onChange:e.handleChange})})):null},t}(c.Component)},150:function(e,t,a){"use strict";a(66);var n={btc:100,ltc:10,other:10},r={average_price:function(e,t,a){var r=n[(""+e).toLowerCase()||"btc"],c=0;t=0;return a.forEach(function(e){e.price&&(t+=parseInt(e.count),c=parseFloat(c)+r*parseFloat(e.count)/parseFloat(e.price),console.log("@@"+c))}),{price:parseFloat(r*t/c).toFixed(4),count:t}},original_margin:function(e,t,a,r){var c=parseInt(n[e||"btc"]);return parseFloat(c*a/t).toFixed(4)/parseInt(r)},profit_long:function(e,t,a,r){var c=n[e||"btc"];return(c/a-c/t)*r},profit_short:function(e,t,a,r){var c=n[e||"btc"];return(c/t-c/a)*r},liquidation_price_long:function(e,t,a,c,l){var i=parseInt(n[e||"btc"]),o=1-parseInt(t||10)/100;return i/(i/a- -(l||r.original_margin(e,a,c,t))*o/c)},liquidation_price_short:function(e,t,a,c,l){var i=parseInt(n[e||"btc"]),o=1-parseInt(t||10)/100;return i/(i/a+-(l||r.original_margin(e,a,c,t))*o/c)}};t.a=r},243:function(e,t,a){"use strict";a.r(t),a.d(t,"graphql",function(){return d}),a.d(t,"StaticQueryContext",function(){return f}),a.d(t,"StaticQuery",function(){return m});var n=a(0),r=a.n(n),c=a(4),l=a.n(c),i=a(156),o=a.n(i);a.d(t,"Link",function(){return o.a}),a.d(t,"withPrefix",function(){return i.withPrefix}),a.d(t,"navigate",function(){return i.navigate}),a.d(t,"push",function(){return i.push}),a.d(t,"replace",function(){return i.replace}),a.d(t,"navigateTo",function(){return i.navigateTo});var s=a(244),u=a.n(s);a.d(t,"PageRenderer",function(){return u.a});var p=a(44);a.d(t,"parsePath",function(){return p.a});var f=r.a.createContext({}),m=function(e){return r.a.createElement(f.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};function d(){throw new Error("It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away,. Unfortunately, something went wrong and the query was left in the compiled code.\n\n.Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.")}m.propTypes={data:l.a.object,query:l.a.string.isRequired,render:l.a.func,children:l.a.func}},244:function(e,t,a){var n;e.exports=(n=a(394))&&n.default||n},394:function(e,t,a){"use strict";a.r(t);a(28);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),i=a(61),o=a(2),s=function(e){var t=e.location,a=o.default.getResourcesForPathnameSync(t.pathname);return r.a.createElement(i.a,Object.assign({location:t,pageResources:a},a.json))};s.propTypes={location:l.a.shape({pathname:l.a.string.isRequired}).isRequired},t.default=s}}]);
//# sourceMappingURL=component---src-pages-index-js-a3d04c1d5e3eadfc524f.js.map